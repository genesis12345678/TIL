# branch

- 새로운 브랜치 생성
```text
git branch (브랜치 이름)
```
- 브랜치 목록 확인
```text
git branch
```
- 브랜치 이동
```text
git switch (브랜치 이름)
```
- 브랜치 생성과 동시에 이동
```text
git switch -c (브랜치 이름)
```
- 브랜치 삭제
```text
git branch -d (브랜치 이름)
```
만약 아직 다른 브랜치로 가져오지 않은 내용의 커밋이 있는 브랜치를 지울 때는 `-d`대신 `-D`로 강제 삭제할 수 있다.

- 브랜치 이름 바꾸기
```text
git branch -m (기존 브랜치명) (새 브랜치명)
```

- 여러 브랜치의 내역 확인(`git log`는 위치한 브랜치에서의 내역만 볼 수 있다.)
```text
git log --all --decorate --oneline --graph
```
이렇게 하면 터미널에서 보기 좋게 표현해 주기는 하지만 `소스트리`같은 프로그램으로 보는게 훨씬 좋다.

## 브랜치 합치기

**merge**
- 두 브랜치를 한 커밋에 이어붙인다.(`merge`한 새로운 커밋 생성)
- `main` 브랜치에서 다른 브랜치를 합칠 때(`main`브랜치에서 실행)
```text
git merge (브랜치 이름)
```
`merge`한 것도 하나의 커밋이기 때문에 `reset`이나 `revert`로 되돌릴 수 있다.(예를 들면 `merge`하기 전 해당 브랜치의 마지막 시점으로 갈 수 있다.)

**rebase**
- 브랜치의 커밋들을 다른 브랜치에 이어 붙인다.
- `merge`와는 반대로 대상이 될 브랜치에서 실행한다.(서브 브랜치에서 실행)
```text
git rebase main
```
그리고 `rebase`를 하면 `main`브랜치가 뒤쳐지게 되기 때문에 `merge`를 통해 `rebase`한 브랜치의 시점으로 옮겨주어야 한다.

**`merge`와 `rebase`차이**
- `merge` : 브랜치 사용내역을 남긴다.(히스토리가 남는다.)
- `rebase` : 브랜치를 그대로 이어붙이는 것이기 때문에 히스토리가 남지 않고 한 줄로 유지할 수 있다.
  - 협업 시 사용하지 않는 것이 좋음.

만약 브랜치를 합칠 때 충돌이 발생하면 충돌을 해결하고 `git add .`, `git commit`으로 마무리 하면 된다.<br>
그런데 당장 충돌 해결이 어려울 거 같으면 다음 명령어로 중단할 수 있다.
```text
git merge --abort
또는
git rebase --abort
```
또한 `merge`는 하나의 커밋으로 충돌 해결을 할 수 있지만, `rebase`는 커밋마다 충돌 해결을 해주어야 하기 때문에 `git rebase --continue`로 충돌이
모두 해결될 때까지 반복할 수 있다.